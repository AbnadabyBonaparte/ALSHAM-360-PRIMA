/**
 * ‚ö° ALSHAM 360¬∞ PRIMA ‚Äî DARK THEME v6.0.6
 * Sistema Visual 360¬∞ Unificado ‚Äî Tokens + Modo Escuro Integrado
 * Autor: ALSHAM Design Core Team | 2025
 *
 * Melhorias:
 * - Elimina√ß√£o de duplica√ß√£o de vari√°veis (usa tokens.css como base)
 * - Contraste otimizado (WCAG AAA)
 * - Anima√ß√µes e transi√ß√µes coerentes com motion tokens
 * - Padroniza√ß√£o de forms, modais e badges
 */

/* =========================================================
   üåô MODO ESCURO GLOBAL
   ========================================================= */
html.dark,
[data-theme="dark"] {
  color-scheme: dark;
  background-color: var(--alsham-bg-canvas);
  color: var(--alsham-text-primary);
  transition: background-color var(--alsham-motion-expressive) var(--alsham-ease-productive),
              color var(--alsham-motion-expressive) var(--alsham-ease-productive);
}

/* =========================================================
   üí° TRANSI√á√ïES SUAVES UNIVERSAIS
   ========================================================= */
body,
nav,
aside,
.card,
.side-nav,
input,
textarea,
select,
button {
  transition:
    background-color var(--alsham-motion-productive) var(--alsham-ease-productive),
    color var(--alsham-motion-productive) var(--alsham-ease-productive),
    border-color var(--alsham-motion-productive) var(--alsham-ease-productive),
    box-shadow var(--alsham-motion-productive) var(--alsham-ease-productive);
}

/* =========================================================
   üè∑Ô∏è STATUS BADGES E LABELS
   ========================================================= */
html.dark .status-badge {
  opacity: 0.95;
  transition: opacity var(--alsham-motion-productive);
}

html.dark .bg-blue-100 { background-color: rgba(59, 130, 246, 0.3) !important; color: #bfdbfe !important; }
html.dark .bg-yellow-100 { background-color: rgba(251, 191, 36, 0.3) !important; color: #fde68a !important; }
html.dark .bg-purple-100 { background-color: rgba(139, 92, 246, 0.3) !important; color: #ddd6fe !important; }
html.dark .bg-green-100 { background-color: rgba(34, 197, 94, 0.3) !important; color: #86efac !important; }
html.dark .bg-red-100 { background-color: rgba(239, 68, 68, 0.3) !important; color: #fca5a5 !important; }
html.dark .bg-gray-100 { background-color: rgba(156, 163, 175, 0.3) !important; color: #d1d5db !important; }

/* =========================================================
   ü™ü MODAIS E OVERLAYS
   ========================================================= */
html.dark .fixed.inset-0.bg-black {
  background-color: rgba(0, 0, 0, 0.7) !important;
}

/* =========================================================
   üßæ INPUTS, TEXTAREAS E SELECTS
   ========================================================= */
html.dark input,
html.dark textarea,
html.dark select {
  background-color: var(--alsham-bg-surface);
  border-color: var(--alsham-border-default);
  color: var(--alsham-text-primary);
  box-shadow: var(--alsham-shadow-sm);
}

html.dark input::placeholder,
html.dark textarea::placeholder {
  color: var(--alsham-text-tertiary);
  opacity: 0.6;
}

html.dark input:focus,
html.dark textarea:focus,
html.dark select:focus {
  border-color: var(--alsham-primary);
  background-color: var(--alsham-bg-hover);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
}

/* =========================================================
   üìä TABELAS E GR√ÅFICOS
   ========================================================= */
html.dark table tr:hover {
  background-color: var(--alsham-bg-hover) !important;
}

html.dark thead {
  background-color: var(--alsham-bg-hover) !important;
}

html.dark canvas {
  filter: brightness(0.92) contrast(1.05);
  transition: filter var(--alsham-motion-productive);
}

/* =========================================================
   ‚öôÔ∏è SPINNERS E LOADERS
   ========================================================= */
html.dark .loading-spinner {
  border-color: rgba(59, 130, 246, 0.25);
  border-top-color: var(--alsham-primary);
  animation: alsham-spin 1s linear infinite;
}

/* =========================================================
   üß≠ SCROLLBAR (Webkit)
   ========================================================= */
html.dark ::-webkit-scrollbar {
  width: 12px;
  background: var(--alsham-bg-canvas);
}
html.dark ::-webkit-scrollbar-track {
  background: var(--alsham-bg-surface);
}
html.dark ::-webkit-scrollbar-thumb {
  background: var(--alsham-border-default);
  border-radius: 6px;
}
html.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--alsham-border-strong);
}

/* =========================================================
   üéØ FOCUS STATES
   ========================================================= */
html.dark *:focus-visible {
  outline: 2px solid var(--alsham-primary);
  outline-offset: 2px;
}

/* =========================================================
   üîó LINKS
   ========================================================= */
html.dark a {
  color: #60a5fa;
  transition: color var(--alsham-motion-productive);
}
html.dark a:hover {
  color: #93c5fd;
}

/* =========================================================
   üìà KPI CARDS
   ========================================================= */
html.dark .kpi-card {
  border: 1px solid var(--alsham-border-default);
  background: var(--alsham-bg-surface);
  box-shadow: var(--alsham-shadow-md);
  transition: box-shadow var(--alsham-motion-productive);
}

html.dark .kpi-card:hover {
  border-color: var(--alsham-primary);
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.25);
}

/* =========================================================
   üå† ANIMA√á√ïES (Tokens herdados de tokens.css)
   ========================================================= */
@keyframes alsham-spin {
  to { transform: rotate(360deg); }
}
