<!DOCTYPE html>
<!-- 🚀 ALSHAM 360° PRIMA - Dashboard Enterprise 10/10 NASA Standard -->
<html lang="pt-BR" class="scroll-smooth">
<head>
    <!-- Meta Tags Enterprise -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ALSHAM 360° PRIMA - CRM Inteligente com IA, Gamificação e Automações. Dashboard enterprise para gestão completa de leads e vendas.">
    <meta name="keywords" content="CRM, IA, Automação, Leads, Vendas, Dashboard, Analytics, Gamificação">
    <meta name="author" content="ALSHAM Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://alsham360prima.com/">
    <meta property="og:title" content="ALSHAM 360° PRIMA - CRM Inteligente">
    <meta property="og:description" content="Dashboard enterprise para gestão completa de leads e vendas com IA.">
    <meta property="og:image" content="/assets/og-image.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://alsham360prima.com/">
    <meta property="twitter:title" content="ALSHAM 360° PRIMA - CRM Inteligente">
    <meta property="twitter:description" content="Dashboard enterprise para gestão completa de leads e vendas com IA.">
    <meta property="twitter:image" content="/assets/twitter-image.jpg">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- PWA Support -->
    <meta name="theme-color" content="#3B82F6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ALSHAM 360°">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Title -->
    <title>ALSHAM 360° PRIMA - Dashboard Obra-Prima</title>
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Critical CSS Inline -->
    <style>
        /* Critical CSS for above-the-fold content */
        .font-inter { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
        .from-gray-50 { --tw-gradient-from: #f9fafb; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(249, 250, 251, 0)); }
        .to-blue-50 { --tw-gradient-to: #eff6ff; }
        .min-h-screen { min-height: 100vh; }
        .bg-white\/80 { background-color: rgba(255, 255, 255, 0.8); }
        .backdrop-blur-md { backdrop-filter: blur(12px); }
        .border-gray-200\/50 { border-color: rgba(229, 231, 235, 0.5); }
        .sticky { position: sticky; }
        .top-0 { top: 0px; }
        .z-50 { z-index: 50; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
    </style>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js" defer></script>
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="./src/style.css">
    
    <!-- Loading Indicator -->
    <style>
        #loading-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #3B82F6, #8B5CF6, #06B6D4);
            background-size: 200% 100%;
            animation: loading 2s linear infinite;
            z-index: 9999;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton 1.5s infinite;
        }
        
        @keyframes skeleton {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="font-inter bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen" data-page="dashboard">
    
    <!-- Loading Indicator -->
    <div id="loading-indicator" class="hidden"></div>
    
    <!-- Skip Navigation for Accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-white px-4 py-2 rounded z-50">
        Pular para o conteúdo principal
    </a>
    
    <!-- Header Premium -->
    <header class="bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50 shadow-sm" role="banner">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo e Branding -->
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-premium rounded-xl flex items-center justify-center" role="img" aria-label="Logo ALSHAM">
                            <span class="text-white font-bold text-lg">A</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-900">ALSHAM 360° PRIMA</h1>
                            <p class="text-xs text-gray-500">Dashboard Obra-Prima</p>
                        </div>
                    </div>
                </div>
                
                <!-- Navegação Principal -->
                <nav class="hidden md:flex items-center space-x-8" role="navigation" aria-label="Navegação principal">
                    <!-- Navigation items will be populated by navigation.js -->
                </nav>
                
                <!-- User Actions -->
                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <div class="relative">
                        <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors" 
                                aria-label="Notificações" 
                                id="notifications-button">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 002 2z"></path>
                            </svg>
                        </button>
                        <span class="absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full animate-pulse" aria-hidden="true"></span>
                    </div>
                    
                    <!-- User Profile -->
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-premium rounded-full flex items-center justify-center" role="img" aria-label="Avatar do usuário">
                            <span class="text-white text-sm font-semibold" id="user-initials">JD</span>
                        </div>
                        <span class="hidden sm:block text-sm font-medium text-gray-700" id="user-name">João Silva</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div id="breadcrumb" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4">
        <!-- Breadcrumb will be populated by navigation.js -->
    </div>

    <!-- Main Content -->
    <main id="main-content" role="main">
        
        <!-- Hero Section - Demonstração Contínua de Valor -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" aria-labelledby="hero-title">
            <div class="bg-gradient-hero rounded-2xl p-8 text-white mb-8 relative overflow-hidden" role="banner">
                <div class="absolute inset-0 bg-black/10" aria-hidden="true"></div>
                <div class="relative z-10">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 id="hero-title" class="text-3xl font-bold mb-2">🎉 <span id="hero-greeting">Parabéns, João!</span></h2>
                            <p class="text-xl mb-4">Você gerou <span class="font-bold text-yellow-300" id="hero-revenue">R$ 15.750</span> esta semana</p>
                            <div class="flex items-center space-x-6 text-sm">
                                <div class="flex items-center space-x-2">
                                    <span class="text-green-300" id="hero-growth">↗️ +23%</span>
                                    <span>vs. semana passada</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="text-yellow-300">🔥</span>
                                    <span id="hero-best-month">Seu melhor mês: Setembro 2025</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm opacity-90 mb-2">Meta Mensal</div>
                            <div class="text-2xl font-bold" id="hero-goal-percentage">73%</div>
                            <div class="text-sm" id="hero-goal-remaining">Faltam R$ 8.250</div>
                            <div class="w-32 bg-white/20 rounded-full h-2 mt-2">
                                <div class="bg-yellow-300 h-2 rounded-full transition-all duration-1000" 
                                     style="width: 73%" 
                                     id="hero-progress-bar"
                                     role="progressbar" 
                                     aria-valuenow="73" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100"
                                     aria-label="Progresso da meta mensal: 73%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- KPIs Inteligentes com Storytelling -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="kpis-title">
            <h2 id="kpis-title" class="sr-only">Indicadores de Performance</h2>
            
            <!-- Container para KPIs dinâmicos -->
            <div id="dashboard-kpis" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- KPIs serão populados dinamicamente pelo main.js -->
                
                <!-- Loading Skeletons -->
                <div class="kpi-skeleton bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-gray-200 rounded-xl loading-skeleton"></div>
                        <div class="w-16 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                    </div>
                    <div class="mb-4">
                        <div class="w-20 h-8 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-24 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                    <div class="border-t border-gray-100 pt-4">
                        <div class="w-16 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                </div>
                
                <!-- Repetir skeleton para outros KPIs -->
                <div class="kpi-skeleton bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-gray-200 rounded-xl loading-skeleton"></div>
                        <div class="w-16 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                    </div>
                    <div class="mb-4">
                        <div class="w-20 h-8 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-24 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                    <div class="border-t border-gray-100 pt-4">
                        <div class="w-16 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                </div>
                
                <div class="kpi-skeleton bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-gray-200 rounded-xl loading-skeleton"></div>
                        <div class="w-16 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                    </div>
                    <div class="mb-4">
                        <div class="w-20 h-8 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-24 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                    <div class="border-t border-gray-100 pt-4">
                        <div class="w-16 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                </div>
                
                <div class="kpi-skeleton bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-gray-200 rounded-xl loading-skeleton"></div>
                        <div class="w-16 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                    </div>
                    <div class="mb-4">
                        <div class="w-20 h-8 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-24 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                    <div class="border-t border-gray-100 pt-4">
                        <div class="w-16 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                        <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gamificação Visual -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="gamification-title">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="gamification-title" class="text-xl font-bold text-gray-900">🏆 Seu Progresso Hoje</h3>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-500">Level <span id="user-level">7</span>:</span>
                        <span class="text-sm font-semibold text-secondary" id="user-level-name">Vendedor Expert</span>
                    </div>
                </div>
                
                <!-- Progress Bar Principal -->
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-700">Progresso do Level</span>
                        <span class="text-sm font-semibold text-secondary" id="level-progress-percentage">80%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div class="bg-gradient-premium h-3 rounded-full transition-all duration-1000" 
                             style="width: 80%" 
                             id="level-progress-bar"
                             role="progressbar" 
                             aria-valuenow="80" 
                             aria-valuemin="0" 
                             aria-valuemax="100"
                             aria-label="Progresso do level: 80%"></div>
                    </div>
                </div>

                <!-- Metas Diárias -->
                <div id="daily-goals" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <!-- Metas serão populadas dinamicamente -->
                    <div class="flex items-center space-x-3">
                        <span class="text-green-500 text-xl">✅</span>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-700">5 ligações feitas</p>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                <div class="bg-success h-2 rounded-full transition-all duration-1000" 
                                     style="width: 100%"
                                     role="progressbar" 
                                     aria-valuenow="100" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100"
                                     aria-label="Ligações: 100% completo"></div>
                            </div>
                        </div>
                        <span class="text-sm font-semibold text-success">100%</span>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <span class="text-green-500 text-xl">✅</span>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-700">3 e-mails enviados</p>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                <div class="bg-success h-2 rounded-full transition-all duration-1000" 
                                     style="width: 100%"
                                     role="progressbar" 
                                     aria-valuenow="100" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100"
                                     aria-label="E-mails: 100% completo"></div>
                            </div>
                        </div>
                        <span class="text-sm font-semibold text-success">100%</span>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <span class="text-orange-500 text-xl">⏳</span>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-700">2 propostas criadas</p>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                <div class="bg-warning h-2 rounded-full transition-all duration-1000" 
                                     style="width: 50%"
                                     role="progressbar" 
                                     aria-valuenow="50" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100"
                                     aria-label="Propostas: 50% completo"></div>
                            </div>
                        </div>
                        <span class="text-sm font-semibold text-warning">50%</span>
                    </div>
                </div>

                <!-- Streak e Badges -->
                <div class="flex items-center justify-between bg-gray-50 rounded-xl p-4">
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <span class="text-xl">🔥</span>
                            <div>
                                <p class="text-sm font-medium text-gray-700">Streak atual</p>
                                <p class="text-lg font-bold text-primary" id="current-streak">12 dias</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xl">🏅</span>
                            <div>
                                <p class="text-sm font-medium text-gray-700">Próximo badge</p>
                                <p class="text-lg font-bold text-secondary" id="next-badge">15 dias</p>
                            </div>
                        </div>
                    </div>
                    <button class="btn-primary text-sm px-4 py-2" onclick="window.navigateTo('gamificacao')">
                        Ver Conquistas
                    </button>
                </div>
            </div>
        </section>

        <!-- Insights Proativos com IA -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="insights-title">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-10 h-10 bg-gradient-premium rounded-xl flex items-center justify-center">
                        <span class="text-white text-xl">🤖</span>
                    </div>
                    <h3 id="insights-title" class="text-xl font-bold text-gray-900">Insights Inteligentes</h3>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Insights -->
                    <div class="space-y-4" id="ai-insights">
                        <div class="flex items-start space-x-3 p-4 bg-blue-50 rounded-xl">
                            <span class="text-xl">💡</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">"Seus leads de terça-feira convertem 34% mais"</p>
                                <p class="text-xs text-gray-600 mt-1">Baseado em 3 meses de dados</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3 p-4 bg-green-50 rounded-xl">
                            <span class="text-xl">📊</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">"Clientes do setor Tech têm LTV 2.3x maior"</p>
                                <p class="text-xs text-gray-600 mt-1">Oportunidade de foco estratégico</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3 p-4 bg-purple-50 rounded-xl">
                            <span class="text-xl">⚡</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">"Agora é o melhor momento para ligar para João"</p>
                                <p class="text-xs text-gray-600 mt-1">89% de chance de atender</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ações Sugeridas -->
                    <div class="space-y-4" id="suggested-actions">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">🎯 Próximas Ações</h4>
                        
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                                <div class="flex items-center space-x-3">
                                    <span class="text-yellow-600">📞</span>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">Ligar para Maria Silva</p>
                                        <p class="text-xs text-gray-600">Lead quente - Tech Startup</p>
                                    </div>
                                </div>
                                <button class="text-xs bg-yellow-600 text-white px-3 py-1 rounded-full hover:bg-yellow-700 transition-colors"
                                        onclick="callLead('maria-silva')">
                                    Ligar
                                </button>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200">
                                <div class="flex items-center space-x-3">
                                    <span class="text-blue-600">✉️</span>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">Follow-up com Pedro Santos</p>
                                        <p class="text-xs text-gray-600">Proposta enviada há 2 dias</p>
                                    </div>
                                </div>
                                <button class="text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors"
                                        onclick="sendFollowUp('pedro-santos')">
                                    Enviar
                                </button>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200">
                                <div class="flex items-center space-x-3">
                                    <span class="text-green-600">📋</span>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">Criar proposta para Ana Costa</p>
                                        <p class="text-xs text-gray-600">Reunião agendada para amanhã</p>
                                    </div>
                                </div>
                                <button class="text-xs bg-green-600 text-white px-3 py-1 rounded-full hover:bg-green-700 transition-colors"
                                        onclick="createProposal('ana-costa')">
                                    Criar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Funil de Conversão Interativo -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="funnel-title">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="funnel-title" class="text-xl font-bold text-gray-900">🎯 Funil de Conversão</h3>
                    <div class="flex space-x-2">
                        <button class="text-xs bg-primary text-white px-3 py-1 rounded-full">Esta Semana</button>
                        <button class="text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-300 transition-colors">Este Mês</button>
                    </div>
                </div>
                
                <div id="conversion-funnel" class="space-y-4">
                    <!-- Funil será populado dinamicamente -->
                    <div class="flex items-center space-x-4">
                        <div class="w-24 text-sm font-medium text-gray-700">Leads</div>
                        <div class="flex-1 bg-gray-200 rounded-full h-8 relative">
                            <div class="bg-blue-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold transition-all duration-1000" 
                                 style="width: 100%">
                                1,234
                            </div>
                        </div>
                        <div class="w-16 text-sm text-gray-600">100%</div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-24 text-sm font-medium text-gray-700">Qualificados</div>
                        <div class="flex-1 bg-gray-200 rounded-full h-8 relative">
                            <div class="bg-green-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold transition-all duration-1000" 
                                 style="width: 75%">
                                925
                            </div>
                        </div>
                        <div class="w-16 text-sm text-gray-600">75%</div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-24 text-sm font-medium text-gray-700">Propostas</div>
                        <div class="flex-1 bg-gray-200 rounded-full h-8 relative">
                            <div class="bg-yellow-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold transition-all duration-1000" 
                                 style="width: 45%">
                                555
                            </div>
                        </div>
                        <div class="w-16 text-sm text-gray-600">45%</div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-24 text-sm font-medium text-gray-700">Fechados</div>
                        <div class="flex-1 bg-gray-200 rounded-full h-8 relative">
                            <div class="bg-purple-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold transition-all duration-1000" 
                                 style="width: 37%">
                                456
                            </div>
                        </div>
                        <div class="w-16 text-sm text-gray-600">37%</div>
                    </div>
                </div>
                
                <!-- Insights do Funil -->
                <div class="mt-6 p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center space-x-2 mb-2">
                        <span class="text-lg">🎯</span>
                        <h4 class="text-sm font-semibold text-gray-900">Insights do Funil</h4>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div class="flex items-center space-x-2">
                            <span class="text-green-600">↗️</span>
                            <span class="text-gray-700">Taxa de qualificação: <strong>75%</strong> (+5% vs. mês passado)</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-yellow-600">⚠️</span>
                            <span class="text-gray-700">Gargalo identificado: <strong>Propostas → Fechamento</strong></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tabela de Leads Recentes -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="leads-title">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="leads-title" class="text-xl font-bold text-gray-900">👥 Leads Recentes</h3>
                    <button class="btn-primary text-sm px-4 py-2" onclick="window.navigateTo('leads')">
                        Ver Todos
                    </button>
                </div>
                
                <!-- Container para tabela de leads -->
                <div id="leads-table" class="overflow-x-auto">
                    <!-- Tabela será populada dinamicamente pelo main.js -->
                    
                    <!-- Loading Skeleton -->
                    <div class="leads-skeleton">
                        <div class="space-y-3">
                            <div class="flex items-center space-x-4 p-3">
                                <div class="w-10 h-10 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="flex-1">
                                    <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                                    <div class="w-48 h-3 bg-gray-200 rounded loading-skeleton"></div>
                                </div>
                                <div class="w-20 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="w-24 h-8 bg-gray-200 rounded loading-skeleton"></div>
                            </div>
                            
                            <div class="flex items-center space-x-4 p-3">
                                <div class="w-10 h-10 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="flex-1">
                                    <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                                    <div class="w-48 h-3 bg-gray-200 rounded loading-skeleton"></div>
                                </div>
                                <div class="w-20 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="w-24 h-8 bg-gray-200 rounded loading-skeleton"></div>
                            </div>
                            
                            <div class="flex items-center space-x-4 p-3">
                                <div class="w-10 h-10 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="flex-1">
                                    <div class="w-32 h-4 bg-gray-200 rounded loading-skeleton mb-2"></div>
                                    <div class="w-48 h-3 bg-gray-200 rounded loading-skeleton"></div>
                                </div>
                                <div class="w-20 h-6 bg-gray-200 rounded-full loading-skeleton"></div>
                                <div class="w-24 h-8 bg-gray-200 rounded loading-skeleton"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gráfico de Performance -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8" aria-labelledby="chart-title">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="chart-title" class="text-xl font-bold text-gray-900">📈 Performance dos Últimos 7 Dias</h3>
                    <div class="flex space-x-2">
                        <button class="text-xs bg-primary text-white px-3 py-1 rounded-full" data-chart-filter="revenue">Receita</button>
                        <button class="text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-300 transition-colors" data-chart-filter="leads">Leads</button>
                        <button class="text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-300 transition-colors" data-chart-filter="conversions">Conversões</button>
                    </div>
                </div>
                <div class="h-64">
                    <canvas id="performanceChart" aria-label="Gráfico de performance dos últimos 7 dias"></canvas>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" role="contentinfo">
        <div class="text-center text-gray-500 text-sm">
            <p>&copy; 2025 ALSHAM 360° PRIMA. Desenvolvido com ❤️ para revolucionar seu CRM.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        /**
         * Configurações globais da aplicação
         */
        window.APP_CONFIG = {
            version: '2.0.0',
            environment: 'production',
            features: {
                realTimeUpdates: true,
                aiInsights: true,
                gamification: true,
                notifications: true
            },
            performance: {
                autoRefresh: 30000, // 30 segundos
                chartAnimationDuration: 1000,
                loadingTimeout: 10000
            }
        };

        /**
         * Função para abrir WhatsApp com mensagem personalizada
         * @param {string} phone - Número de telefone
         * @param {string} name - Nome do contato
         */
        function openWhatsApp(phone, name) {
            try {
                // Remove caracteres especiais do telefone
                const cleanPhone = phone.replace(/\D/g, '');
                
                // Validar número
                if (!cleanPhone || cleanPhone.length < 10) {
                    throw new Error('Número de telefone inválido');
                }
                
                // Mensagem personalizada
                const message = `Olá ${name}! Sou da ALSHAM e gostaria de conversar sobre nossa proposta. Quando seria um bom momento para você?`;
                
                // Codifica a mensagem para URL
                const encodedMessage = encodeURIComponent(message);
                
                // URL do WhatsApp
                const whatsappUrl = `https://wa.me/${cleanPhone}?text=${encodedMessage}`;
                
                // Abre em nova aba
                window.open(whatsappUrl, '_blank');
                
                // Feedback visual
                const button = event.target;
                const originalText = button.innerHTML;
                button.innerHTML = '✅ Enviado!';
                button.disabled = true;
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 2000);
                
                // Analytics
                if (window.gtag) {
                    window.gtag('event', 'whatsapp_click', {
                        contact_name: name,
                        phone_number: cleanPhone
                    });
                }
                
            } catch (error) {
                console.error('Erro ao abrir WhatsApp:', error);
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Erro ao abrir WhatsApp: ' + error.message, 
                        'error'
                    );
                }
            }
        }
        
        /**
         * Função para demonstrar valor
         */
        function showValueDemo() {
            const valueData = {
                conversions: '23% aumento nas conversões',
                timeSaved: '2.5h economizadas por dia',
                revenue: 'R$ 15.750 gerados esta semana',
                satisfaction: '89% de satisfação da equipe'
            };
            
            const message = `🎯 Valor Demonstrado:\n\n• ${valueData.conversions}\n• ${valueData.timeSaved}\n• ${valueData.revenue}\n• ${valueData.satisfaction}`;
            
            if (window.navigationSystem) {
                window.navigationSystem.notificationManager.show(
                    'Valor demonstrado com sucesso!', 
                    'success'
                );
            } else {
                alert(message);
            }
            
            // Analytics
            if (window.gtag) {
                window.gtag('event', 'value_demo_shown', {
                    conversions: '23%',
                    time_saved: '2.5h',
                    revenue: '15750',
                    satisfaction: '89%'
                });
            }
        }

        /**
         * Função para ligar para lead
         * @param {string} leadId - ID do lead
         */
        function callLead(leadId) {
            try {
                console.info(`📞 Iniciando ligação para lead: ${leadId}`);
                
                // Aqui integraria com sistema de telefonia
                // Por enquanto, simula a ação
                
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Ligação iniciada! Conectando...', 
                        'info'
                    );
                }
                
                // Analytics
                if (window.gtag) {
                    window.gtag('event', 'call_lead', {
                        lead_id: leadId
                    });
                }
                
            } catch (error) {
                console.error('Erro ao iniciar ligação:', error);
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Erro ao iniciar ligação', 
                        'error'
                    );
                }
            }
        }

        /**
         * Função para enviar follow-up
         * @param {string} leadId - ID do lead
         */
        function sendFollowUp(leadId) {
            try {
                console.info(`✉️ Enviando follow-up para lead: ${leadId}`);
                
                // Aqui integraria com sistema de e-mail
                // Por enquanto, simula a ação
                
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Follow-up enviado com sucesso!', 
                        'success'
                    );
                }
                
                // Analytics
                if (window.gtag) {
                    window.gtag('event', 'send_followup', {
                        lead_id: leadId
                    });
                }
                
            } catch (error) {
                console.error('Erro ao enviar follow-up:', error);
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Erro ao enviar follow-up', 
                        'error'
                    );
                }
            }
        }

        /**
         * Função para criar proposta
         * @param {string} leadId - ID do lead
         */
        function createProposal(leadId) {
            try {
                console.info(`📋 Criando proposta para lead: ${leadId}`);
                
                // Redirecionar para página de criação de proposta
                window.navigateTo('leads', { action: 'create-proposal', leadId });
                
                // Analytics
                if (window.gtag) {
                    window.gtag('event', 'create_proposal', {
                        lead_id: leadId
                    });
                }
                
            } catch (error) {
                console.error('Erro ao criar proposta:', error);
                if (window.navigationSystem) {
                    window.navigationSystem.notificationManager.show(
                        'Erro ao criar proposta', 
                        'error'
                    );
                }
            }
        }

        /**
         * Inicialização da página
         */
        document.addEventListener('DOMContentLoaded', function() {
            console.info('🚀 Dashboard ALSHAM 360° PRIMA v2.0.0 iniciado');
            
            // Configurar filtros de gráfico
            const chartFilters = document.querySelectorAll('[data-chart-filter]');
            chartFilters.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.getAttribute('data-chart-filter');
                    
                    // Atualizar estado visual dos botões
                    chartFilters.forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    
                    this.classList.remove('bg-gray-200', 'text-gray-700');
                    this.classList.add('bg-primary', 'text-white');
                    
                    // Atualizar gráfico (será implementado no main.js)
                    if (window.updateChart) {
                        window.updateChart(filter);
                    }
                });
            });
            
            // Configurar notificações
            const notificationsButton = document.getElementById('notifications-button');
            if (notificationsButton) {
                notificationsButton.addEventListener('click', function() {
                    if (window.navigationSystem) {
                        window.navigationSystem.notificationManager.show(
                            'Sistema de notificações em desenvolvimento', 
                            'info'
                        );
                    }
                });
            }
        });

        /**
         * Error handling global
         */
        window.addEventListener('error', function(event) {
            console.error('🚨 Erro global capturado:', event.error);
            
            if (window.navigationSystem) {
                window.navigationSystem.errorTracker.track(event.error, {
                    source: 'global_error_handler',
                    filename: event.filename,
                    lineno: event.lineno,
                    colno: event.colno
                });
            }
        });

        /**
         * Performance monitoring
         */
        window.addEventListener('load', function() {
            const loadTime = performance.now();
            console.info(`⚡ Página carregada em ${loadTime.toFixed(2)}ms`);
            
            // Analytics
            if (window.gtag) {
                window.gtag('event', 'page_load_time', {
                    value: Math.round(loadTime)
                });
            }
        });
    </script>

    <!-- Module Scripts -->
    <script type="module" src="./src/components/navigation.js"></script>
    <script type="module" src="./src/js/auth.js"></script>
    <script src="./src/main.js" defer></script>
</body>
</html>

