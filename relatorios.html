<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Relat칩rios Enterprise - ALSHAM 360춿 PRIMA</title>

  <meta name="description" content="Analytics e Relat칩rios Enterprise do ALSHAM 360춿 PRIMA. Dashboards avan칞ados, KPIs em tempo real, previs칫es de IA e exporta칞칚o multi-formato com conformidade LGPD.">
  <meta name="robots" content="noindex, nofollow">
  <meta name="theme-color" content="#3B82F6">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Analytics Enterprise - ALSHAM 360춿 PRIMA">
  <meta property="og:description" content="Dashboards avan칞ados e relat칩rios inteligentes para maximizar resultados">
  <meta property="og:image" content="/og-image.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="Analytics Enterprise - ALSHAM 360춿 PRIMA">
  <meta property="twitter:description" content="Dashboards avan칞ados e relat칩rios inteligentes para maximizar resultados">
  <meta property="twitter:image" content="/og-image.png">

  <!-- Seguran칞a (CSP) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval' https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://apis.google.com https://*.posthog.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    connect-src 'self' https://*.supabase.co wss://*.supabase.co https://*.posthog.com;
    img-src 'self' data: blob: https://*.supabase.co https://*.posthog.com;
    font-src 'self' https://fonts.gstatic.com data:;
    frame-src 'self' https://apis.google.com;
  ">

  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css" />
</head>

<body class="h-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 min-h-screen font-inter">
  <main id="main-content" role="main" class="max-w-7xl mx-auto px-6 py-8">
    <!-- Conte칰do real de relat칩rios aqui -->
  </main>

  <div id="offline-notice" class="hidden text-sm text-center mt-4"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="/js/navigation.js"></script>
  <script type="module" src="/js/main.js"></script>
  <script type="module" src="/js/auth.js"></script>
  <script type="module" src="/js/relatorios.js"></script>

  <script type="module">
    console.log('游늵 Inicializando sistema de relat칩rios enterprise...');
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const skeletons = document.querySelectorAll('.chart-skeleton');
        skeletons.forEach(s => {
          s.classList.remove('skeleton-loading');
          s.classList.add('fade-in');
        });
      }, 2000);

      const kpiCards = document.querySelectorAll('.kpi-card');
      kpiCards.forEach(card => {
        card.addEventListener('mouseenter', () => { card.style.transform = 'translateY(-4px)'; });
        card.addEventListener('mouseleave', () => { card.style.transform = 'translateY(0)'; });
      });
    });

    window.addEventListener('error', (e) => {
      if (e.target.tagName === 'SCRIPT' && e.target.src.includes('relatorios.js')) {
        const notice = document.getElementById('offline-notice');
        if (notice) {
          notice.textContent = "丘멆잺 Relat칩rios n칚o carregaram. Verifique Supabase.";
          notice.className = "p-3 mt-4 bg-yellow-100 text-yellow-800 rounded-lg text-center";
          notice.classList.remove('hidden');
        }
      }
    });
  </script>
</body>
</html>
